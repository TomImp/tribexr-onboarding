<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TribeXR DJ Academy - Personalized Learning Journey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Main Navigation (visible after onboarding) -->
        <nav class="main-nav" id="main-nav" style="display: none;">
            <div class="nav-logo">
                <img src="tribe_logo.svg" alt="Tribe Logo" class="nav-logo-img">
                <p>DJ ACADEMY</p>
            </div>
            <div class="nav-buttons">
                <button class="nav-tab active" id="learn-tab" onclick="showSection('learn')">LEARN</button>
                <button class="nav-tab" id="play-tab" onclick="showSection('play')">PLAY</button>
                <button class="nav-tab" id="perform-tab" onclick="showSection('perform')">PERFORM</button>
                <div class="nav-icon" onclick="window.open('messaging.html', '_blank')" title="Messages">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                </div>
                <div class="profile-icon" onclick="window.open('profile.html', '_blank')" title="View Profile">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
            </div>
        </nav>

        <!-- Welcome Screen -->
        <div class="step active" id="step-welcome">
            <div class="logo">
                <img src="tribe_logo.svg" alt="Tribe Logo" class="main-logo">
                <p class="tagline">DJ ACADEMY</p>
            </div>
            <div class="content-card">
                <h2>Welcome to Your DJ Journey</h2>
                <p>Let's create a personalized learning path just for you</p>
                <button class="btn-primary" onclick="nextStep()">Get Started</button>
                <!-- Debug: Temporary reset button -->
                <button class="btn-secondary" onclick="resetProfile()" style="margin-top: 20px; font-size: 12px;">Reset Profile (Debug)</button>
            </div>
        </div>

        <!-- Step 1: Skill Level -->
        <div class="step" id="step-skill">
            <div class="progress-bar">
                <div class="progress" style="width: 20%"></div>
            </div>
            <div class="content-card">
                <h2>What's your current DJ experience?</h2>
                <div class="options-grid">
                    <button class="option-card" data-value="first-timer" onclick="selectOption('skill', this)">
                        <span class="option-icon">üéß</span>
                        <h3>First Timer</h3>
                        <p>I've never DJ'd before</p>
                    </button>
                    <button class="option-card" data-value="beginner" onclick="selectOption('skill', this)">
                        <span class="option-icon">üéµ</span>
                        <h3>Beginner</h3>
                        <p>I know the basics</p>
                    </button>
                    <button class="option-card" data-value="intermediate" onclick="selectOption('skill', this)">
                        <span class="option-icon">üéõÔ∏è</span>
                        <h3>Intermediate</h3>
                        <p>I can mix tracks</p>
                    </button>
                    <button class="option-card" data-value="advanced" onclick="selectOption('skill', this)">
                        <span class="option-icon">üî•</span>
                        <h3>Advanced</h3>
                        <p>I perform regularly</p>
                    </button>
                </div>
                <button class="btn-secondary" onclick="previousStep()">Back</button>
            </div>
        </div>

        <!-- Step 2: Music Genre -->
        <div class="step" id="step-genre">
            <div class="progress-bar">
                <div class="progress" style="width: 40%"></div>
            </div>
            <div class="content-card">
                <h2>What music genres do you love?</h2>
                <p class="subtitle">Select all that apply</p>
                <div class="options-grid multi-select">
                    <button class="option-card" data-value="house" onclick="toggleOption('genre', this)">
                        <h3>House</h3>
                    </button>
                    <button class="option-card" data-value="edm" onclick="toggleOption('genre', this)">
                        <h3>EDM</h3>
                    </button>
                    <button class="option-card" data-value="techno" onclick="toggleOption('genre', this)">
                        <h3>Techno</h3>
                    </button>
                    <button class="option-card" data-value="tech-house" onclick="toggleOption('genre', this)">
                        <h3>Tech House</h3>
                    </button>
                    <button class="option-card" data-value="hip-hop-rnb" onclick="toggleOption('genre', this)">
                        <h3>Hip Hop / R&B</h3>
                    </button>
                    <button class="option-card" data-value="commercial" onclick="toggleOption('genre', this)">
                        <h3>Commercial</h3>
                    </button>
                </div>
                <div class="nav-buttons">
                    <button class="btn-secondary" onclick="previousStep()">Back</button>
                    <button class="btn-primary" onclick="nextStep()" disabled id="genre-next">Continue</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Goals -->
        <div class="step" id="step-goals">
            <div class="progress-bar">
                <div class="progress" style="width: 60%"></div>
            </div>
            <div class="content-card">
                <h2>What are your DJ goals?</h2>
                <div class="options-grid">
                    <button class="option-card" data-value="have-fun" onclick="selectOption('goals', this)">
                        <span class="option-icon">üéâ</span>
                        <h3>Have Fun</h3>
                        <p>DJ for myself and friends</p>
                    </button>
                    <button class="option-card" data-value="learn" onclick="selectOption('goals', this)">
                        <span class="option-icon">üìö</span>
                        <h3>Learn</h3>
                        <p>Master the fundamentals</p>
                    </button>
                    <button class="option-card" data-value="become-pro" onclick="selectOption('goals', this)">
                        <span class="option-icon">üèÜ</span>
                        <h3>Become a Pro</h3>
                        <p>Perform professionally</p>
                    </button>
                </div>
                <button class="btn-secondary" onclick="previousStep()">Back</button>
            </div>
        </div>

        <!-- Step 4: Practice Frequency -->
        <div class="step" id="step-frequency">
            <div class="progress-bar">
                <div class="progress" style="width: 80%"></div>
            </div>
            <div class="content-card">
                <h2>How often will you practice?</h2>
                <div class="options-list">
                    <button class="option-list-item" data-value="daily" onclick="selectOption('frequency', this)">
                        <span>Daily</span>
                        <span class="option-detail">Every day</span>
                    </button>
                    <button class="option-list-item" data-value="few-times-week" onclick="selectOption('frequency', this)">
                        <span>A few times a week</span>
                        <span class="option-detail">3-4 times</span>
                    </button>
                    <button class="option-list-item" data-value="weekly" onclick="selectOption('frequency', this)">
                        <span>Weekly</span>
                        <span class="option-detail">Once a week</span>
                    </button>
                    <button class="option-list-item" data-value="monthly" onclick="selectOption('frequency', this)">
                        <span>Monthly</span>
                        <span class="option-detail">A few times a month</span>
                    </button>
                    <button class="option-list-item" data-value="occasionally" onclick="selectOption('frequency', this)">
                        <span>Occasionally</span>
                        <span class="option-detail">When I have time</span>
                    </button>
                </div>
                <button class="btn-secondary" onclick="previousStep()">Back</button>
            </div>
        </div>

        <!-- Main Content Sections -->
        
        <!-- LEARN Section (Step 5: Personalized Lesson Flow) -->
        <div class="step main-section" id="step-lessons">
            <div class="content-card full-width">
                <div class="lesson-header">
                    <div>
                        <h2>Your Personalized DJ Journey</h2>
                        <p class="subtitle" id="profile-summary">Based on your preferences, here's your custom learning path</p>
                    </div>
                </div>
                
                <div class="lesson-path" id="lesson-path">
                    <!-- Dynamically generated lesson flow will appear here -->
                </div>

                <div class="lesson-library">
                    <h3>Complete Lesson Library</h3>
                    <div class="filter-tabs">
                        <button class="filter-tab active" onclick="filterLessons('all')">All Lessons</button>
                        <button class="filter-tab" onclick="filterLessons('recommended')">Recommended</button>
                        <button class="filter-tab" onclick="filterLessons('equipment')">By Equipment</button>
                        <button class="filter-tab" onclick="filterLessons('skill')">By Skill</button>
                    </div>
                    
                    <div class="table-wrapper">
                        <table id="lessons-table">
                            <thead>
                                <tr>
                                    <th>Lesson</th>
                                    <th>Skill</th>
                                    <th>Difficulty</th>
                                    <th>Equipment</th>
                                    <th>Genre</th>
                                    <th>Rating</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="lessons-tbody">
                                <!-- Dynamically populated -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="nav-buttons">
                    <button class="btn-secondary" onclick="restartOnboarding()">Start Over</button>
                    <button class="btn-primary" onclick="startLearning()">Begin Learning</button>
                    <!-- Demo button for testing celebrations (remove in production) -->
                    <button class="btn-secondary" onclick="triggerDemoCelebration()" style="margin-top: 10px; font-size: 12px;">Test Celebration (Demo)</button>
                </div>
            </div>
        </div>
        
        <!-- PLAY Section -->
        <div class="main-section" id="section-play" style="display: none;">
            <div class="content-card full-width">
                <div class="section-header">
                    <h2>DJ Equipment Playground</h2>
                    <p class="subtitle">Interactive DJ equipment simulation coming soon</p>
                </div>
                
                <div class="placeholder-content">
                    <div class="placeholder-icon">üéõÔ∏è</div>
                    <h3>PLACEHOLDER - DJ EQUIPMENT HERE</h3>
                    <p>This section will feature an interactive DJ equipment simulator where you can practice with virtual CDJs, mixers, and controllers.</p>
                    <div class="coming-soon">
                        <span class="badge">Coming Soon</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- PERFORM Section -->
        <div class="main-section" id="section-perform" style="display: none;">
            <div class="content-card full-width">
                <div class="section-header">
                    <h2>Performance Mode</h2>
                    <p class="subtitle">Practice performing in virtual venues</p>
                </div>
                
                <div class="performance-content">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/VJCtzbyIeXI" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                        </iframe>
                    </div>
                    <div class="performance-info">
                        <h3>Virtual Performance Environment</h3>
                        <p>Experience what it's like to perform in front of a crowd. This section will feature virtual venues where you can practice your sets and get comfortable with live performance.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Achievement Modal -->
        <div class="modal" id="achievement-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üèÜ Your Achievements</h2>
                    <button class="modal-close" onclick="closeAchievements()">&times;</button>
                </div>
                <div class="modal-body" id="achievements-list">
                    <!-- Dynamically populated achievements -->
                </div>
            </div>
        </div>
    </div>

    <script src="lessons-data.js"></script>
    <script src="script.js"></script>
</body>
</html>